<style>
  #run:hover {
    background: whitesmoke !important;
  }
</style>

<div class="ui text container segments" style="margin-top:100px;">

  <div class="ui padded segment">
    <div class="ui header">
      Model chooser
    </div>

    <div class="content" style="padding:2%;">
      <form class="ui form" onsubmit="return false;">
        <div class="field">
          <label>Model</label>
          <div class="ui selection dropdown" id="modelselector">
            <input type="hidden" name="models">
            <div class="default text">모델을 선택하세요</div>
            <i class="dropdown icon"></i>
            <div class="menu">
              {% for key, val in model_matcher.items %}
                <div class="item" data-value="{{ key }}">{{ val.desc }}</div>
              {% endfor %}
            </div>
          </div>
        </div>

        <div class="five wide field">
          <label># positions</label>
          <div class="ui input">
            <input type="text" value="10" style="text-align:right" id="n_pos">
          </div>
        </div>

        <div class="field">
          <pre class="prettyprint" style="padding:10px;">

Codemirror 사용하자

def 시총상위PB저평가(date, fin=None, mc=None, n=10):
    fisyear = get_fisyear(date)
    marketcap = mc.loc[date].nlargest(100)
    univ = marketcap.index
    bv = fin['자본총계'].xs(fisyear, level=1).loc[univ]
    bp = bv / marketcap
    position = bp.nlargest(n)
    position[:] = 1/len(position)
    return position
          </pre>
        </div>

        <div class="ui compact right floated button" style="background:white" id="run">
          <i class="sync icon"></i>
          RUN
        </div>
      </form>

    </div>
    <br>
  </div>


  <div class="ui padded segment" style="display:none;" id="cum_seg">
    <div class="ui header">Cumulative</div>
    <div class="content" style="padding:2%;">
      <canvas id="nav" style="max-width:90%;max-height:300px;margin-left:auto;margin-right:auto"></canvas>
    </div>
  </div>

  <div class="ui padded segment" style="display:none;" id="stats_seg">
    <div class="ui header">Stats</div>
    <div class="content" style="padding:2%;">

      <div class="ui three column stackable grid container">
        <div class="column" style="text-align:center;">
          <div class="ui small header">
            Annual return
          </div>
          <canvas id="Annual return" style="max-width:90%;max-height:200px;margin-left:auto;margin-right:auto"></canvas>
        </div>

        <div class="column" style="text-align:center;">
          <div class="ui small header">
            Volatility
          </div>
          <canvas id="Volatility" style="max-width:90%;max-height:200px;margin-left:auto;margin-right:auto"></canvas>
        </div>

        <div class="column" style="text-align:center;">
          <div class="ui small header">
            Sharpe
          </div>
          <canvas id="Sharpe" style="max-width:90%;max-height:200px;margin-left:auto;margin-right:auto"></canvas>
        </div>
      </div>

    </div>
  </div>


  <div class="ui padded segment" style="display:none;" id="pos_seg">
    <div class="ui header">
      Positions
      <div class="ui right floated compact floating scrolling dropdown button" id="dateselector">
        <span class="text"></span>
        <i class="dropdown icon"></i>
      </div>
    </div>

    <div class="content" style="padding:2%;">
      <table class="ui basic fixed selectable unstackable very compact table" id="position">
      </table>
    </div>

  </div>
</div>
